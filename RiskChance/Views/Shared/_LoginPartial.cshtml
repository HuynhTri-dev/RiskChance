@using Microsoft.AspNetCore.Identity
@using RiskChance.Models

@inject SignInManager<NguoiDung> SignInManager
@inject UserManager<NguoiDung> UserManager

<dic class="navbar-nav">
@if (SignInManager.IsSignedIn(User))
{
        <!-- Nếu đã đăng nhập -->
        <div id="userDropdown" class="dropdown">
            <button class="account-dropdown btn dropdown-toggle d-flex align-items-center"
                    type="button"
                    data-bs-toggle="dropdown"
                    aria-expanded="false">
                <img id="userAvatar"
                     src="@(ViewBag.UserAvatar ?? Url.Content("~/assets/user/image.png"))"
                     alt="User Avatar"
                     class="user-img rounded-circle me-2" />
                <span id="userName" class="d-none d-md-block">@ViewBag.UserName</span>
            </button>
            <ul class="account dropdown-menu dropdown-menu-end">
                <li>
                    <a class="dropdown-item" href="/Account/Profile">
                        <i class="fa-solid fa-user me-2"></i> Profile
                    </a>
                </li>
                <li>
                    <a class="dropdown-item text-danger" asp-area="Identity" asp-page="/Account/Logout">
                        <i class="fa-solid fa-sign-out-alt me-2"></i> Logout
                    </a>
                </li>
            </ul>
        </div>
}
else
{
        <!-- Nếu chưa đăng nhập -->
        <a id="signInBtn"
           class="signIn-btn text-white fw-bold btn btn-primary d-flex align-items-center justify-content-center"
           asp-area="Identity" asp-page="/Account/Login">
            Sign In
        </a>
}
</dic>
